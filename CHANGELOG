nxn-2-1: improve memory allocator
nxn-2-0: new call back model
nxn-1-2: working version
